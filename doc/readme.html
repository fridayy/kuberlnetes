<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.1">
    <meta name="project" content="kuberlnetes v0.1.0">

    <title>kuberlnetes — kuberlnetes v0.1.0</title>
    <link rel="stylesheet" href="dist/html-erlang-6FXMBT73.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-IV5W3OL2.js"></script>
    <script src="dist/sidebar_items-49262C97.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-XN2TSG4M.js"></script>


  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="readme.html" class="sidebar-projectName" translate="no">
kuberlnetes
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v0.1.0
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/fridayy/kuberlnetes/blob/v0.1.0/README.md#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>


  <span>kuberlnetes</span>
</h1>

<p>An rather low-level OTP library for interacting with the Kubernetes API server. 
Primarly used in applications that interact with Kubernetes from within the cluster.</p><h2 id="why" class="section-heading">
  <a href="#why" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">why</p>
  </a>
  Why?
</h2>
<p>The primary goal <a href="kuberlnetes.html"><code class="inline">kuberlnetes</code></a> is not to create a high-level abstraction over 
the Kubernetes API but provide simple functions that simplify certain operations and make 
them easily available for Erlang applications.</p><p>There is no generated code or any forced model - only supporting functions for the well-known
REST operations. This eases backward and forward compatibility (at least for <a href="kuberlnetes.html"><code class="inline">kuberlnetes</code></a> itself).</p><h2 id="basic-examples" class="section-heading">
  <a href="#basic-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">basic-examples</p>
  </a>
  Basic Examples
</h2>
<p><a href="kuberlnetes.html"><code class="inline">kuberlnetes</code></a> returns the plain responses as defined in the <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/">Kubernetes API specification</a> as Erlang
maps.</p><blockquote><p>Bear in mind that <code class="inline">get | post | patch | put</code> functions are blocking!</p></blockquote><p>Applications accessing the Kubernetes API from within the cluster:</p><pre><code class="makeup erlang" translate="no"><span class="n">Server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">kuberlnetes</span><span class="p">:</span><span class="nf">in_cluster</span><span class="p" data-group-id="5632268353-1">(</span><span class="p" data-group-id="5632268353-1">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="5632268353-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">DeploymentsList</span><span class="p" data-group-id="5632268353-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">kuberlnetes</span><span class="p">:</span><span class="nf">get</span><span class="p" data-group-id="5632268353-3">(</span><span class="s">&quot;/apis/apps/v1/deployments&quot;</span><span class="p" data-group-id="5632268353-3">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="5632268353-4">#{</span><span class="p">&lt;&lt;</span><span class="s">&quot;items&quot;</span><span class="p">&gt;&gt;</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="n">Deployments</span><span class="p" data-group-id="5632268353-4">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeploymentsList</span><span class="p">,</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span></code></pre><p>Access the Kubernetes API from outside the cluster using a local 
<code class="inline">~/.kube/config</code> file:</p><pre><code class="makeup erlang" translate="no"><span class="n">Server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">kuberlnetes</span><span class="p">:</span><span class="nf">from_config</span><span class="p" data-group-id="9032306017-1">(</span><span class="p" data-group-id="9032306017-2">#{</span><span class="ss">context</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">&quot;</span><span class="ss">some_context</span><span class="p" data-group-id="9032306017-2">}</span><span class="p">}</span><span class="p" data-group-id="9032306017-1">)</span><span class="p">,</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span></code></pre><h2 id="watches" class="section-heading">
  <a href="#watches" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">watches</p>
  </a>
  Watches
</h2>
<p><a href="kuberlnetes.html"><code class="inline">kuberlnetes</code></a> supports the <a href="https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes">Watch API</a>:</p><pre><code class="makeup erlang" translate="no"><span class="n">Server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">kuberlnetes</span><span class="p">:</span><span class="nf">from_config</span><span class="p" data-group-id="5112906011-1">(</span><span class="p" data-group-id="5112906011-2">#{</span><span class="ss">context</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;some_context&quot;</span><span class="p" data-group-id="5112906011-2">}</span><span class="p" data-group-id="5112906011-1">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="5112906011-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">WatchPid</span><span class="p" data-group-id="5112906011-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">kuberlnetes</span><span class="p">:</span><span class="nf">watch</span><span class="p" data-group-id="5112906011-4">(</span><span class="p" data-group-id="5112906011-5">#{</span><span class="w">
        </span><span class="ss">server</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Server</span><span class="p">,</span><span class="w">
        </span><span class="ss">api_group</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/api/v1&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">kind</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;configmaps&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;my-config&quot;</span><span class="p">,</span><span class="w">
        </span><span class="ss">namespace</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;default&quot;</span><span class="w">
    </span><span class="p" data-group-id="5112906011-5">}</span><span class="p" data-group-id="5112906011-4">)</span><span class="p">.</span></code></pre><p>Each open watch is represented by an erlang process. By default messages change messages are sent to the process that spawned the watch proce
The received message has the following format:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="0979147007-1">{</span><span class="ss">kuberlnetes_watch</span><span class="p">,</span><span class="w"> </span><span class="ss">added</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0979147007-2">#{</span><span class="ss">kind</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">&lt;&lt;</span><span class="s">&quot;Pod&quot;</span><span class="p">&gt;&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="0979147007-2">}</span><span class="p" data-group-id="0979147007-1">}</span><span class="w"> </span><span class="p">|</span><span class="w"> 
</span><span class="p" data-group-id="0979147007-3">{</span><span class="ss">kuberlnetes_watch</span><span class="p">,</span><span class="w"> </span><span class="ss">modified</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0979147007-4">#{</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="0979147007-4">}</span><span class="p" data-group-id="0979147007-3">}</span><span class="w"> </span><span class="p">|</span><span class="w"> 
</span><span class="p" data-group-id="0979147007-5">{</span><span class="ss">kuberlnetes_watch</span><span class="p">,</span><span class="w"> </span><span class="ss">deleted</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0979147007-6">#{</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="0979147007-6">}</span><span class="p" data-group-id="0979147007-5">}</span><span class="p">.</span><span class="w">
</span></code></pre><h2 id="build" class="section-heading">
  <a href="#build" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">build</p>
  </a>
  Build
</h2>
<pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">make
</span></code></pre>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="license.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
LICENSE
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

            <span class="line">
              <a href="https://hex.pm/packages/kuberlnetes/0.1.0" class="footer-hex-package">Hex Package</a>

              <a href="https://preview.hex.pm/preview/kuberlnetes/0.1.0">Hex Preview</a>

                (<a href="https://preview.hex.pm/preview/kuberlnetes/0.1.0/show/README.md">current file</a>)

            </span>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

              <a href="kuberlnetes.epub" title="ePub version">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.1) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
